const t=(t='a:not([target="_blank"]):not([href^="#"])')=>document.querySelectorAll(t),e=t=>t.host===location.host&&t.pathname!==location.pathname,o={},n=(n,c=!0)=>{const s=new IntersectionObserver((t=>{for(const e of t){const{href:t,pathname:n}=e.target;e.isIntersecting&&((!c||!o[n])&&fetch(t),s.unobserve(e.target),o[n]=!0)}}));for(const o of n||t())e(o)&&s.observe(o)},c=(n,c=!0)=>{let s=!1;const r=new XMLHttpRequest;(n||t()).forEach((t=>{e(t)&&(t.addEventListener('mouseenter',(()=>{const{href:e,pathname:n}=t;(!c||!o[n])&&(r.onload=r.onerror=()=>o[n]=!0,r.open('GET',e,!0),r.send(),s=!0)})),t.addEventListener('mouseleave',(()=>{s&&r.abort(),s=!1})))}))};export{c as prefetchHover,n as prefetchVisible,o as prefetchedLinks};

const e=()=>document.querySelectorAll('a'),o=e=>e.host===location.host&&e.pathname!==location.pathname,t=(e,o,t)=>e.addEventListener(o,t),n={},c=(t=e(),c=!0)=>{const s=new IntersectionObserver((e=>{for(const o of e)if(o.isIntersecting){const{href:e,pathname:t}=o.target;(!c||!n[t])&&fetch(e),s.unobserve(o.target),n[t]=!0}}));for(const e of t)o(e)&&s.observe(e)},s=(c=e(),s=!0)=>{let f=!1;const r=new XMLHttpRequest;for(const e of c)o(e)&&(t(e,'mouseenter',(()=>{const{href:o,pathname:t}=e;(!s||!n[t])&&(r.onload=r.onerror=()=>n[t]=!0,r.open('get',o),r.send(),f=!0)})),t(e,'mouseleave',(()=>{f&&r.abort(),f=!1})))};export{s as prefetchHover,c as prefetchVisible,n as prefetchedLinks};

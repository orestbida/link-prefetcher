const t=t=>t.host===location.host&&t.pathname!==location.pathname,e=e=>[...e||document.querySelectorAll('a')].filter(t),o=(t,e,o)=>e.forEach((e=>t.addEventListener(e,o))),n={},c=t=>{const o=new IntersectionObserver((t=>{for(const e of t)if(e.isIntersecting){const{href:t,pathname:c}=e.target;n[c]||(n[c]=!0,fetch(t)),o.unobserve(e.target)}}));e(t).forEach(o.observe)},s=t=>{let c=!1;const s=new XMLHttpRequest;for(const r of e(t))o(r,['mouseenter','touchstart'],(()=>{const{href:t,pathname:e}=r;n[e]||(s.onload=s.onerror=()=>n[e]=!0,s.open('get',t),s.send(),c=!0)})),o(r,['mouseleave'],(()=>{c&&(c=!1,s.abort())}))};export{s as prefetchHover,c as prefetchVisible,n as prefetchedLinks};

const t=t=>t.host===location.host&&t.pathname!==location.pathname,e=e=>Array.from(e||document.querySelectorAll('a')).filter(t),o=(t,e,o)=>e.forEach((e=>t.addEventListener(e,o,{passive:!0}))),n={},s=t=>{const o=new IntersectionObserver((t=>{for(const e of t)if(e.isIntersecting){const{href:t,pathname:s}=e.target;n[s]||(n[s]=!0,fetch(t)),o.unobserve(e.target)}}));e(t).forEach((t=>o.observe(t)))},c=t=>{let s=!1;const c=new XMLHttpRequest;for(const r of e(t))o(r,['mouseenter','touchstart'],(()=>{const{href:t,pathname:e}=r;n[e]||(c.onload=c.onerror=()=>n[e]=!0,c.open('get',t),c.send(),s=!0)})),o(r,['mouseleave'],(()=>{s&&(s=!1,c.abort())}))};export{c as prefetchHover,s as prefetchVisible,n as prefetchedLinks};

const t=t=>t.host===location.host&&t.pathname!==location.pathname,e=e=>[...e||document.querySelectorAll('a')].filter(t),o=(t,e,o)=>e.forEach((e=>t.addEventListener(e,o,{passive:!0}))),n={},s=t=>{const o=new IntersectionObserver((t=>{for(const e of t)if(e.isIntersecting){const{href:t,pathname:s}=e.target;n[s]||(n[s]=!0,fetch(t)),o.unobserve(e.target)}}));e(t).forEach(o.observe)},c=t=>{let s=!1;const c=new XMLHttpRequest;for(const a of e(t))o(a,['mouseenter','touchstart'],(()=>{const{href:t,pathname:e}=a;n[e]||(c.onload=c.onerror=()=>n[e]=!0,c.open('get',t),c.send(),s=!0)})),o(a,['mouseleave'],(()=>{s&&(s=!1,c.abort())}))};export{c as prefetchHover,s as prefetchVisible,n as prefetchedLinks};
